{"version":3,"sources":["script.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","welcomePage","document","querySelector","itemsListPage","nextPageButton","displayCurrentDate","form","getElementById","categoryInput","categoriesConteiner","categories","JSON","parse","localStorage","getItem","selectedCategoryId","categoriesCounter","leaveWelcomePage","e","style","transform","addEventListener","display","getCurrentDate","date","Date","clientTimeZone","Intl","DateTimeFormat","resolvedOptions","timeZone","currentDate","dateStyle","concat","format","innerHTML","updateCategoryCounter","innerText","categoryString","displayCategory","forEach","category","categoryWrapper","createElement","classList","add","categoryItem","id","appendChild","categoryItemTask","categoryName","editDeleteBtnContainer","editBtn","deleteBtn","openButton","currentTarget","parentElement","window","filter","item","saveToLocalStorage","removeAttribute","value","setSelectionRange","focus","setAttribute","tasksCounter","progressBar","progressBarValue","progressBarFill","taskElementsContainer","tasksWrapper","showProgressBar","tasks","toPx","val","join","contains","remove","setTimeout","position","pos","top","rect","getBoundingClientRect","left","width","height","console","log","openElment","taskForms","querySelectorAll","_loop","preventDefault","thisCategoryId","task","taskItemName","getTime","toString","remainingTime","complete","selectedCategory","find","push","reset","displayTask","taskElement","taskFirst","checkboxElement","type","checked","taskName","showTasksCount","countDown","completeTaskCount","taskRatioNumber","Math","floor","taskRatio","pop","ProgressBar","element","initialValue","arguments","this","valueElement","fillElement","setValue","newValue","isNaN","update","percentage","textContent","Timer","root","_this","getHTML","el","minutes","seconds","control","timeForm","timeValue","notificationBox","closeBoxButton","interval","remainingSeconds","start","stop","updateInterfaceTime","updateInterfaceControls","getCurrentTarget","updateRemainingTime","zIndex","inputeMinutes","thisTaskId","previousSibling","selectedTask","setItem","stringify","padStart","_this2","setInterval","clearInterval","incompleteTaskCount","taskString","trim"],"mappings":"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","file":"script.js","sourcesContent":["// ****** SELECT ITEMS **********\r\n\r\nconst welcomePage = document.querySelector('.welcome-page__container');\r\nconst itemsListPage = document.querySelector('.items-container');\r\nconst nextPageButton = document.querySelector('.welcome-page__btn');\r\n\r\nconst displayCurrentDate = document.querySelector('.text-wrapper');\r\n\r\nconst form = document.getElementById('new-category-form');\r\nconst categoryInput = document.getElementById('category-name');\r\nconst categoriesConteiner = document.querySelector('.category-box-container');\r\n\r\nlet categories = JSON.parse(localStorage.getItem('categories')) || [];\r\nlet selectedCategoryId = localStorage.getItem('category.selectedCategoryId');\r\n\r\nconst categoriesCounter = document.querySelector('.category-counter');\r\n\r\n\r\n\r\n\r\n\r\n\r\n// ****** FUNCTIONS **********\r\n\r\n// PAGE TRANSITION\r\nconst leaveWelcomePage = (e) => {\r\n    \r\n    welcomePage.style.transform = \"translateX(-100%)\";\r\n    welcomePage.addEventListener(\"transitionend\", (e) => {\r\n        welcomePage.style.display = \"none\"\r\n    });\r\n    if(categories.length == 0 || categories.length !== 0) {\r\n      itemsListPage.style.transform = \"translateX(0)\";\r\n      itemsListPage.style.display = \"flex\";\r\n    }\r\n};\r\n\r\n// CURRENT DATE\r\nconst getCurrentDate = () => {\r\n    const date = new Date();\r\n    const clientTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n    const currentDate = new Intl.DateTimeFormat('en-GB', { dateStyle: 'full', timeZone: `${clientTimeZone}`}).format(date);\r\n    displayCurrentDate.innerHTML = `Today is, ${currentDate}`;\r\n};\r\n\r\n\r\n//SHOW / UPDATE CATEGORY COUNTER/NUMBER\r\nconst updateCategoryCounter = () => {\r\n \r\n    if (categories.length === 0 ) {\r\n       categoriesCounter.innerText = \"You don't have any categories\";\r\n    } else {\r\n      const categoryString = categories.length === 1 ? \"category\" : \"categories\"\r\n      categoriesCounter.innerText = `You have ${categories.length} ${categoryString}`;\r\n      \r\n    }  \r\n};\r\n\r\n//RENDER CATEGORY\r\nconst displayCategory = () => {\r\n    categoriesConteiner.innerHTML = '';\r\n\r\n    categories.forEach(category => {\r\n\r\n        const categoryWrapper = document.createElement('div');\r\n        categoryWrapper.classList.add('category-wrapper');\r\n\r\n        const categoryItem = document.createElement('li');\r\n        categoryItem.classList.add('category-box', 'glassmorphism-card');\r\n        categoryItem.id = category.id;\r\n        categoryWrapper.appendChild(categoryItem);   \r\n\r\n        const categoryItemTask = document.createElement('div');\r\n        categoryItemTask.classList.add('category-box__task');\r\n        categoryItemTask.innerHTML = `<input class=\"category-box__name\" type=\"text\" value=\"${category.categoryName}\" readonly>`;\r\n        categoryItem.appendChild(categoryItemTask);\r\n\r\n        const editDeleteBtnContainer = document.createElement('div');\r\n        editDeleteBtnContainer.classList.add('btn-container');\r\n        categoryItem.appendChild(editDeleteBtnContainer);\r\n\r\n        const editBtn = document.createElement('button');\r\n        editBtn.classList.add('edit-btn');\r\n        editBtn.innerHTML = `<i class=\"fas fa-edit\"></i>`;\r\n        editDeleteBtnContainer.appendChild(editBtn);\r\n\r\n        const deleteBtn = document.createElement('button');\r\n        deleteBtn.classList.add('delete-btn');\r\n        deleteBtn.innerHTML = `<i class=\"fas fa-trash\"></i>`;\r\n        editDeleteBtnContainer.appendChild(deleteBtn);\r\n\r\n        const openButton = document.createElement('button');\r\n        openButton.innerHTML = 'OPEN';\r\n        openButton.classList.add('button-open');\r\n        editDeleteBtnContainer.appendChild(openButton);\r\n\r\n        deleteBtn.addEventListener('click', deleteElement); //DELETE BUTTON\r\n        editBtn.addEventListener('click', editElement); // EDIT BUTTON\r\n\r\n        const tasksCounter = document.createElement('p');\r\n        tasksCounter.classList.add('tasks-counter');\r\n        tasksCounter.innerHTML = \"Click Open and add task/s\"\r\n        categoryItem.appendChild(tasksCounter);\r\n\r\n        const progressBar = document.createElement('div');\r\n        progressBar.classList.add('progress-bar');\r\n        categoryItem.appendChild(progressBar);\r\n    \r\n        const progressBarValue = document.createElement('div');\r\n        progressBarValue.classList.add('progress-bar-value');\r\n        progressBar.appendChild(progressBarValue);\r\n    \r\n        const progressBarFill = document.createElement('div');\r\n        progressBarFill.classList.add('progress-bar-fill');\r\n        progressBar.appendChild(progressBarFill);\r\n\r\n        const taskElementsContainer = document.createElement('div');\r\n        taskElementsContainer.classList.add('task-elements-container');\r\n        taskElementsContainer.innerHTML = `\r\n        <form class=\"new-task-form\">\r\n          <input\r\n            class=\"task-input\"\r\n            type=\"text\"\r\n            placeholder=\"Name a new task and enter/click to add...\"\r\n          />\r\n          <input\r\n            class=\"create-task-btn\"\r\n            type=\"submit\"\r\n            value=\"Create task\"\r\n          />\r\n        </form>` \r\n\r\n        const tasksWrapper = document.createElement('div');\r\n        tasksWrapper.classList.add('tasks-wrapper');\r\n        taskElementsContainer.appendChild(tasksWrapper);\r\n    \r\n        categoryItem.appendChild(taskElementsContainer);\r\n\r\n        categoriesConteiner.appendChild(categoryWrapper); //APPEND TO MAIN CONTAINER\r\n        showProgressBar();\r\n\r\n\r\n        function showProgressBar(){\r\n          if(category.tasks.length === 0){\r\n                progressBar.style.display = 'none'\r\n            } else {\r\n                progressBar.style.display = 'block'\r\n            }\r\n        }\r\n    \r\n\r\n        //DELETE FUNCTION\r\n        function deleteElement(e){\r\n           \r\n            let thisItem = e.currentTarget.parentElement.parentElement.parentElement;\r\n            thisItem.classList.add('fall');\r\n\r\n            window.addEventListener('transitionend', function(){\r\n                categories = categories.filter(item => item !== category);\r\n                selectedCategoryId = null;\r\n                \r\n                saveToLocalStorage();\r\n                displayCategory();\r\n                updateCategoryCounter(); \r\n\r\n            });\r\n        };\r\n  \r\n        //EDIT FUNCTION\r\n        function editElement(e){\r\n  \r\n            const input = categoryItem.querySelector('.category-box__name')\r\n            input.removeAttribute('readonly');\r\n    \r\n            //Cursor at the end of text\r\n            input.addEventListener('focus', e => {\r\n            const { value } = e.target;\r\n            e.target.setSelectionRange(value.length, value.length);\r\n            });\r\n    \r\n            input.focus();\r\n            input.addEventListener('blur', (e) => {\r\n            input.setAttribute('readonly', true);\r\n            category.categoryName = e.target.value;\r\n            saveToLocalStorage();\r\n            displayCategory();\r\n            });   \r\n        };\r\n\r\n        //Small to fullscreen box -- function/animation\r\n\r\n        //Helping functions fullscreen animation (from div to fullscreen animation)\r\n        function getPosition(element){\r\n          const rect = element.getBoundingClientRect()\r\n          return {\r\n            top: rect.top,\r\n            left: rect.left,\r\n            width: rect.width,\r\n            height: rect.height\r\n          }\r\n        };\r\n\r\n        function toPx(val){\r\n          return [val, 'px'].join('')\r\n        };\r\n\r\n\r\n        function openElment(){\r\n\r\n            if (categoryItem.classList.contains('fullscreen')){\r\n                categoryItem.classList.remove('fullscreen');\r\n                taskElementsContainer.style.display = 'none'\r\n                setTimeout(e => categoryItem.style.position = 'static', 1000);\r\n                openButton.innerText = 'OPEN';\r\n                selectedCategoryId = null;\r\n                saveToLocalStorage();\r\n\r\n            } else {\r\n            \r\n                let pos = getPosition(categoryItem)\r\n                categoryItem.style.width = toPx(pos.width)\r\n                categoryItem.style.height = toPx(pos.height)\r\n                categoryItem.style.top = toPx(pos.top)\r\n                categoryItem.style.left = toPx(pos.left)\r\n                categoryItem.classList.add('fullscreen');\r\n                taskElementsContainer.style.display = 'flex';\r\n                openButton.innerText = 'CLOSE';\r\n                categoryItem.position = 'fixed';\r\n    \r\n                console.log('function open')\r\n               \r\n            }\r\n        };\r\n\r\n\r\n        //SAVE FULLSCREEN OPTION ON REFRESH\r\n        if (category.id === selectedCategoryId) { \r\n            //openElment();\r\n        };\r\n\r\n      \r\n        //CATEGORY BOX TO FULLSCREEN \r\n        openButton.addEventListener('click', e => {\r\n\r\n            selectedCategoryId = e.target.parentElement.parentElement.id;\r\n            saveToLocalStorage();                      \r\n            openElment();\r\n        }); \r\n\r\n\r\n\r\n        //FUNCTIONS AND EVENT LISTENERS HANDEL INSIDE CATEGORY TASKS\r\n\r\n        const taskForms = document.querySelectorAll('.new-task-form');\r\n\r\n        //SUBMIT TASK \r\n        for(let i = 0; i < taskForms.length; i++){\r\n\r\n            taskForms[i].addEventListener('submit', e => {\r\n              e.preventDefault(); \r\n              const thisCategoryId = e.currentTarget.parentElement.parentElement.id;\r\n      \r\n              let task = {\r\n      \r\n                taskItemName: taskForms[i][0].value,\r\n                id: new Date().getTime().toString(),\r\n                remainingTime: [],\r\n                complete: false,\r\n      \r\n              };\r\n      \r\n              //if(taskItemName == null || taskItemName === '') return;\r\n      \r\n              const selectedCategory = categories.find(category => category.id === thisCategoryId);\r\n              selectedCategory.tasks.push(task);\r\n              saveToLocalStorage();\r\n      \r\n              updateCategoryCounter(thisCategoryId);\r\n              saveToLocalStorage();\r\n      \r\n              e.target.reset();\r\n              displayTask()\r\n            });     \r\n        };\r\n\r\n\r\n        const displayTask = () => {\r\n\r\n            tasksWrapper.innerHTML = \"\";\r\n            showProgressBar();\r\n\r\n            category.tasks.forEach(task =>{\r\n\r\n                let taskElement = document.createElement('div');\r\n                taskElement.classList.add('task-item');\r\n              \r\n                const taskFirst = document.createElement('div');\r\n                taskFirst.classList.add('task-first');\r\n                taskElement.appendChild(taskFirst);\r\n        \r\n                const checkboxElement = document.createElement('input');\r\n                checkboxElement.classList.add('completed-checkbox');\r\n                checkboxElement.type = 'checkbox';\r\n                checkboxElement.id = task.id;\r\n                checkboxElement.checked = task.complete;\r\n                taskFirst.appendChild(checkboxElement);\r\n              \r\n                const taskName = document.createElement('p')\r\n                taskName.classList.add('todo-text');\r\n                taskName.innerHTML = `${task.taskItemName}`\r\n                taskFirst.appendChild(taskName);\r\n        \r\n                showTasksCount();\r\n              \r\n                const countDown = document.createElement('div');\r\n                countDown.classList.add('timer-container')\r\n                taskFirst.appendChild(countDown);\r\n        \r\n                tasksWrapper.appendChild(taskElement);\r\n        \r\n                const completeTaskCount = category.tasks.filter(task => task.complete).length;\r\n                let taskRatioNumber = Math.floor((100 * completeTaskCount) / category.tasks.length);\r\n                category.taskRatio.pop();\r\n                category.taskRatio.push(taskRatioNumber);\r\n                saveToLocalStorage();\r\n\r\n\r\n                //PROGRESS BAR\r\n                class ProgressBar {\r\n                    constructor (element, initialValue = 0) {\r\n                  \r\n                      this.valueElement = progressBarValue;\r\n                      this.fillElement = progressBarFill;\r\n                  \r\n                      this.setValue(initialValue)\r\n                    }\r\n                  \r\n                    setValue (newValue) {\r\n                      if (isNaN(newValue)) {\r\n                        return 0;\r\n                      }\r\n          \r\n                      if (newValue <= 0) {\r\n                        newValue = 0;\r\n                      }\r\n                  \r\n                      if(newValue > 100) {\r\n                        newValue = 100;\r\n                      }\r\n                  \r\n                      this.value = newValue;\r\n                      this.update();\r\n                    }\r\n                  \r\n                    update(){\r\n                      const percentage = this.value + '%';\r\n                  \r\n                      this.fillElement.style.width = percentage;\r\n                      this.valueElement.textContent = percentage;\r\n                  \r\n                    } \r\n                };  \r\n                  \r\n                new ProgressBar(progressBar, category.taskRatio);\r\n                \r\n\r\n                //COUNTDOWN TIMER  \r\n                class Timer {\r\n                    constructor(root) {\r\n                    root.innerHTML = Timer.getHTML();\r\n                        \r\n                    this.el = {\r\n                        minutes: root.querySelector('.timer__part--minutes'),\r\n                        seconds: root.querySelector('.timer__part--seconds'),\r\n                        control: root.querySelector('.timer__btn--control'),\r\n                        reset: root.querySelector('.timer__btn--reset'),\r\n                        timeForm: root.querySelector('.time-form'),\r\n                        timeValue: root.querySelector('.time-value'),\r\n                        notificationBox: root.querySelector('.notification-time-box'),\r\n                        closeBoxButton: root.querySelector('.btn-close-box'),\r\n                    };            \r\n                \r\n                    this.interval = null;\r\n                    this.remainingSeconds = task.remainingTime;\r\n                \r\n                    this.start();\r\n                    this.stop();\r\n            \r\n                    this.updateInterfaceTime();\r\n                    this.updateInterfaceControls();\r\n                \r\n                \r\n                    this.el.control.addEventListener('click', (e) => {\r\n\r\n        \r\n                        if (this.interval === null) {\r\n                        this.start();\r\n                        this.getCurrentTarget(e)\r\n                        } else {\r\n                        this.stop();\r\n                        this.updateRemainingTime();\r\n                        }\r\n                \r\n                    });\r\n        \r\n                \r\n                    \r\n                    this.el.reset.addEventListener('click', (e) => {\r\n        \r\n                        //Show Input Box\r\n                        this.el.notificationBox.style.display = 'flex';\r\n                        this.el.notificationBox.style.zIndex = \"100\";\r\n                    });\r\n        \r\n        \r\n                    //Close Notification/Put Time Value Box\r\n                    this.el.closeBoxButton.addEventListener('click', e => {\r\n        \r\n                        this.el.notificationBox.style.display = 'none';\r\n                    });\r\n        \r\n        \r\n                    this.el.timeForm.addEventListener('submit' , e => {\r\n                        e.preventDefault();\r\n                        const inputeMinutes = this.el.timeValue.value;\r\n        \r\n                        \r\n                        const thisCategoryId = e.currentTarget.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.id;\r\n                        const thisTaskId = e.currentTarget.parentElement.parentElement.parentElement.parentElement.previousSibling.previousSibling.id;\r\n        \r\n                        const selectedCategory = categories.find(category => category.id === thisCategoryId );\r\n                        const selectedTask = selectedCategory.tasks.find(task => task.id === thisTaskId);\r\n        \r\n                        selectedTask.remainingTime.pop();\r\n                        selectedTask.remainingTime.push(inputeMinutes);\r\n                        saveToLocalStorage();\r\n        \r\n                        this.el.notificationBox.style.display = 'none';\r\n                        e.target.reset();\r\n        \r\n                        if(inputeMinutes < 60) {\r\n                        this.stop();\r\n                        \r\n                        this.remainingSeconds = `${selectedTask.remainingTime}` * 60;\r\n                        this.updateRemainingTime();\r\n                        this.updateInterfaceTime();               \r\n                        };\r\n        \r\n                        \r\n                        checkboxElement.checked = false;\r\n                        task.complete = false;\r\n                        saveToLocalStorage();\r\n                        showTasksCount();\r\n        \r\n                        let completeTaskCount = category.tasks.filter(task => task.complete).length;\r\n                        let taskRatioNumber = Math.floor((100 * completeTaskCount) / category.tasks.length);\r\n                        category.taskRatio.pop();\r\n                        category.taskRatio.push(taskRatioNumber);\r\n                        localStorage.setItem('categories', JSON.stringify(categories));\r\n        \r\n                        new ProgressBar(progressBar, category.taskRatio); \r\n                    });\r\n        \r\n                    };\r\n        \r\n                    //Functions\r\n                    updateRemainingTime(){\r\n                        task.remainingTime.pop();\r\n                        task.remainingTime.push(this.remainingSeconds);\r\n                        localStorage.setItem('categories', JSON.stringify(categories));\r\n                    };\r\n        \r\n                \r\n                    updateInterfaceControls(){\r\n                        if(this.interval === null){\r\n                            this.el.control.innerHTML =`<p>play</p>`;\r\n                            this.el.control.classList.add('timer__btn--start');\r\n                            this.el.control.classList.remove('timer__btn--stop');\r\n                        } else {\r\n                            this.el.control.innerHTML =`<p>pause</p>`;\r\n                            this.el.control.classList.add('timer__btn--stop');\r\n                            this.el.control.classList.remove('timer__btn--start');\r\n                    \r\n                        }\r\n                    }\r\n                \r\n                    updateInterfaceTime() {\r\n                        const minutes = Math.floor(this.remainingSeconds / 60);\r\n                        const seconds = this.remainingSeconds % 60;\r\n                    \r\n                        this.el.minutes.textContent = minutes.toString().padStart(2, '0');\r\n                        this.el.seconds.textContent = seconds.toString().padStart(2, '0');\r\n                    } \r\n\r\n\r\n                    getCurrentTarget(e) {\r\n\r\n                        let currentTarget = e.currentTarget.parentElement.previousSibling.previousSibling;\r\n                        console.log(currentTarget)   \r\n                    };\r\n\r\n                   \r\n\r\n\r\n                \r\n                    start(){\r\n\r\n                        //let currentTarget = this.getCurrentTarget(e)\r\n                        //console.log(currentTarget)\r\n                        if(this.remainingSeconds === 0) return\r\n            \r\n                        this.interval = setInterval(() =>{\r\n            \r\n                            this.remainingSeconds--;\r\n                            this.updateInterfaceTime();\r\n                    \r\n                            if (this.remainingSeconds === 0) {\r\n                            this.stop();\r\n                            checkboxElement.checked = true;\r\n                            task.complete = true;\r\n                            showTasksCount();\r\n                            saveToLocalStorage();\r\n                            }\r\n                    \r\n                        }, 1000);\r\n                    \r\n                        this.updateInterfaceControls()\r\n                        }\r\n                    \r\n                        stop(){\r\n                        clearInterval(this.interval);\r\n                        this.interval = null;\r\n                        this.updateInterfaceControls();\r\n                \r\n                    }\r\n                \r\n                    static getHTML(){\r\n                        return `\r\n                        <div class=\"notification-time-box glassmorphism-card\">\r\n                            <div class=\"set-time-box\">\r\n                                <div class=\"set-time-box__content\">\r\n                                    <h2 class=\"time-title\">Put Time</h2>\r\n                                    <button class=\"btn-close-box\">\r\n                                    <i class=\"fa-solid fa-circle-xmark\"></i>\r\n                                    </button>\r\n                                </div>\r\n                \r\n                                <div class=\"set-time-box__input-wrapper\">\r\n                                    <form class=\"time-form\">\r\n                                        <input\r\n                                            class=\"time-value\"\r\n                                            id=\"time-value\"\r\n                                            type=\"input\"\r\n                                            placeholder=\"e.g 20 etc\"\r\n                                        />\r\n                                        <input class=\"add-value-btn\" type=\"submit\" value=\"Add Time\" />\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <span class=\"timer__part timer__part--minutes\">00</span>\r\n                        <span class=\"timer__part timer__part--semicolons\">:</span>\r\n                        <span class=\"timer__part timer__part--seconds\">00</span>\r\n                    \r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"timer__btn timer__btn--control timer__start\"\r\n                        >\r\n                        </button>\r\n                    \r\n                        <button\r\n                            type=\"button\"\r\n                            class=\"timer__btn timer__btn--reset timer__setup\"\r\n                        >\r\n                            <p>setup</p>\r\n                        </button>`\r\n                    }\r\n                };\r\n                new Timer(countDown); \r\n\r\n                //SHOW UPDATE MESSAGE TASK COUNT\r\n                function showTasksCount(){\r\n\r\n                    const incompleteTaskCount = category.tasks.filter(task => !task.complete).length;\r\n                    const completeTaskCount = category.tasks.filter(task => task.complete).length;\r\n          \r\n                    if(incompleteTaskCount === 0){\r\n                      tasksCounter.innerText = 'You have done everything! Good Job!'\r\n                    } else {\r\n                      let taskRatio = Math.floor((100 * completeTaskCount) / category.tasks.length)\r\n                      const taskString = incompleteTaskCount === 1 ? \"task\" : \"tasks\"\r\n                      tasksCounter.innerText = `${incompleteTaskCount} ${taskString} remaining ${taskRatio}% done` \r\n                    }       \r\n                };\r\n\r\n                checkboxElement.addEventListener('click', e => {\r\n                    checkboxElement.checked;\r\n                    let thisCategoryId = checkboxElement.parentElement.parentElement.parentElement.parentElement.parentElement.id;\r\n                    const selectedCategory = categories.find(category => category.id === thisCategoryId);\r\n                    const selectedTask = selectedCategory.tasks.find(task => task.id === e.target.id);\r\n                    selectedTask.complete = e.target.checked\r\n                    saveToLocalStorage()\r\n                    showTasksCount()\r\n          \r\n                    //updateTasksRatio(thisCategoryId);\r\n\r\n                    const completeTaskCount = selectedCategory.tasks.filter(task => task.complete).length;\r\n                    let taskRatioNumber = Math.floor((100 * completeTaskCount) / category.tasks.length);\r\n                    category.taskRatio.pop();\r\n                    category.taskRatio.push(taskRatioNumber);\r\n                    saveToLocalStorage();\r\n\r\n                    //  TRY TO COME UP WITH FUNCTION UPDATE TASK RATIO TAKING ID AS A PARAMETER\r\n          \r\n                    new ProgressBar(progressBar, selectedCategory.taskRatio);  \r\n          \r\n                });\r\n\r\n            });\r\n        };\r\n        displayTask();\r\n\r\n    });\r\n};\r\n\r\n\r\n//LOCAL STORAGE - SAVE TO LOCAL STORAGE\r\nconst saveToLocalStorage = () => {\r\n    localStorage.setItem('categories', JSON.stringify(categories));\r\n    localStorage.setItem('category.selectedCategoryId', selectedCategoryId);\r\n};\r\n\r\n\r\n\r\n// ****** EVENT LISTENERS **********\r\nwindow.addEventListener('DOMContentLoaded', e => {\r\n    getCurrentDate();\r\n    displayCategory();\r\n    updateCategoryCounter();\r\n});\r\n\r\n// SELECTED CATEGORY ID\r\n\r\n\r\nnextPageButton.addEventListener('click', leaveWelcomePage);\r\n\r\nform.addEventListener('submit', e =>{\r\n    e.preventDefault()\r\n  \r\n    if (categoryInput == null || categoryInput === '') return;\r\n  \r\n    const category = {\r\n  \r\n      categoryName: categoryInput.value.trim(),\r\n      id: new Date().getTime().toString(),\r\n      taskRatio: [],\r\n      tasks: [],\r\n    };\r\n\r\n    categories.push(category);\r\n    saveToLocalStorage();\r\n    e.target.reset();\r\n    \r\n    displayCategory();\r\n    updateCategoryCounter();\r\n\r\n});\r\n  \r\n\r\n\r\n\r\n\r\n\r\n// ****** LOCAL STORAGE **********"]}