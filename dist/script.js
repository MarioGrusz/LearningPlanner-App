"use strict";var welcomePage=document.querySelector(".welcome-page__container"),itemsListPage=document.querySelector(".items-container"),nextPageButton=document.querySelector(".welcome-page__btn"),displayCurrentDate=document.querySelector(".text-wrapper"),form=document.getElementById("new-category-form"),categoryInput=document.getElementById("category-name"),categoriesConteiner=document.querySelector(".category-box-container"),categories=JSON.parse(localStorage.getItem("categories"))||[],selectedCategoryId=localStorage.getItem("category.selectedCategoryId"),categoriesCounter=document.querySelector(".category-counter"),setHeightContainer=document.querySelector(".category-box-container"),infoHeight=setHeightContainer.getBoundingClientRect().height,leaveWelcomePage=function(e){welcomePage.style.transform="translateX(-100%)",welcomePage.addEventListener("transitionend",(function(e){welcomePage.style.display="none",console.log("displayNone")})),0!=categories.length&&0===categories.length||(itemsListPage.style.transform="translateX(0)",itemsListPage.style.display="flex")},getCurrentDate=function(){var e=new Date,t=Intl.DateTimeFormat().resolvedOptions().timeZone,a=new Intl.DateTimeFormat("en-GB",{dateStyle:"full",timeZone:"".concat(t)}).format(e);displayCurrentDate.innerHTML="Today is, ".concat(a)},updateCategoryCounter=function(){if(0===categories.length)categoriesCounter.innerText="You don't have any categories";else{var e=1===categories.length?"category":"categories";categoriesCounter.innerText="You have ".concat(categories.length," ").concat(e)}},displayCategory=function e(){categoriesConteiner.innerHTML="",categories.forEach((function(t){var a=document.createElement("div");a.classList.add("category-wrapper");var n=document.createElement("li");n.classList.add("category-box","glassmorphism-card"),n.id=t.id,a.appendChild(n);var o=document.createElement("div");o.classList.add("category-box__task"),o.innerHTML='<input class="category-box__name" type="text" value="'.concat(t.categoryName,'" readonly>'),n.appendChild(o);var r=document.createElement("div");r.classList.add("btn-container"),n.appendChild(r);var c=document.createElement("button");c.classList.add("edit-btn"),c.innerHTML='<i class="fas fa-edit"></i>',r.appendChild(c);var i=document.createElement("button");i.classList.add("delete-btn"),i.innerHTML='<i class="fas fa-trash"></i>',r.appendChild(i);var s=document.createElement("button");s.innerHTML="OPEN",s.classList.add("button-open"),r.appendChild(s),i.addEventListener("click",(function(a){a.currentTarget.parentElement.parentElement.parentElement.classList.add("fall"),window.addEventListener("transitionend",(function(){categories=categories.filter((function(e){return e!==t})),selectedCategoryId=null,saveToLocalStorage(),e(),updateCategoryCounter()}))})),c.addEventListener("click",(function(a){var o=n.querySelector(".category-box__name");o.removeAttribute("readonly"),o.addEventListener("focus",(function(e){var t=e.target.value;e.target.setSelectionRange(t.length,t.length)})),o.focus(),o.addEventListener("blur",(function(a){o.setAttribute("readonly",!0),t.categoryName=a.target.value,saveToLocalStorage(),e()}))}));var l=document.createElement("p");l.classList.add("tasks-counter"),l.innerHTML="Click Open and add task/s",n.appendChild(l);var d=document.createElement("div");d.classList.add("task-elements-container"),d.innerHTML='\n        <form class="new-task-form">\n          <input\n            class="task-input"\n            type="text"\n            placeholder="Name a new task and enter/click to add..."\n          />\n          <input\n            class="create-task-btn"\n            type="submit"\n            value="Create task"\n          />\n        </form>';var g=document.createElement("div");function u(){n.classList.add("fullscreen"),s.innerText="CLOSE",d.style.display="flex",n.style.height="".concat(infoHeight,"px")}g.classList.add("tasks-wrapper"),d.appendChild(g),n.appendChild(d),categoriesConteiner.appendChild(a),t.id===selectedCategoryId&&u(),s.addEventListener("click",(function(e){selectedCategoryId=e.target.parentElement.parentElement.id,saveToLocalStorage(),n.classList.contains("fullscreen")?(n.classList.remove("fullscreen"),d.style.display="none",s.innerText="OPEN",selectedCategoryId=null,saveToLocalStorage(),n.style.height="auto"):(u(),n.style.height="".concat(infoHeight,"px"))}))}))},saveToLocalStorage=function(){localStorage.setItem("categories",JSON.stringify(categories)),localStorage.setItem("category.selectedCategoryId",selectedCategoryId)};window.addEventListener("DOMContentLoaded",(function(e){getCurrentDate(),displayCategory(),updateCategoryCounter()})),nextPageButton.addEventListener("click",leaveWelcomePage),form.addEventListener("submit",(function(e){if(e.preventDefault(),null!=categoryInput&&""!==categoryInput){var t={categoryName:categoryInput.value.trim(),id:(new Date).getTime().toString(),taskRatio:[],tasks:[]};categories.push(t),saveToLocalStorage(),e.target.reset(),displayCategory(),updateCategoryCounter()}}));
//# sourceMappingURL=script.js.map